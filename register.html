<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Register</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@700&family=Jockey+One&family=Keania+One&family=Katibeh&display=swap" rel="stylesheet" />
<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<style>
/* --- design mo --- */
body {
    min-height: 100vh;
    margin: 0;
    font-family: 'Inter', sans-serif;
    background: url('panda.jpg') no-repeat center center fixed;
    background-size: contain;
    display: flex;
    justify-content: center;
    align-items: center;
}
.container {
    width: 420px;
    background: rgba(217,217,217,0.5);
    border-radius: 20px;
    padding: 20px 35px;
    text-align: center;
}
h1 { font-family:'Jockey One',sans-serif; font-size:46px; margin-bottom:15px; }
input { width:100%; height:50px; border-radius:15px; border:none; background:#D9D9D9; padding-left:18px; font-size:20px; font-family:'Jockey One'; margin-bottom:10px; }

/* Hide default password reveal icon (Edge/Chrome) */
input[type="password"]::-ms-reveal,
input[type="password"]::-ms-clear {
  display: none;
  width: 0;
  height: 0;
}

input[type="password"]::-webkit-credentials-auto-fill-button {
  visibility: hidden;
  display: none !important;
  pointer-events: none;
  height: 0;
  width: 0;
}


.password-wrapper { position: relative; }
.password-wrapper i { position: absolute; right:12px; top:50%; transform:translateY(-50%); cursor:pointer; color:#666; }
.register-btn { width:130px; height:43px; border-radius:8px; background:rgba(183,35,38,0.91); color:#fff; border:none; font-size:23px; font-family:'Jockey One'; cursor:pointer; }
.google-btn{width:180px; height:33px; border-radius:8px; background:black; color:white; font-family:'Katibeh',cursive; font-size:18px; display:flex; align-items:center; justify-content:center; gap:10px; cursor:pointer; margin:10px auto;}
.google-btn img{height:22px;}
.error { font-size:14px; color:#B72326; display:none; font-weight:600; }

/* ✅ Success Popup */
#successPopup {
    display: none;
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 20px 40px;
    border-radius: 10px;
    box-shadow: 0 0 15px rgba(0,0,0,0.3);
    z-index: 1000;
    text-align: center;
    font-family: 'Jockey One', sans-serif;
}
#successPopup i { color: #2BB930; font-size: 48px; }
#successPopup p { margin: 15px 0 0; font-size: 20px; }
#closePopup {
    margin-top: 20px;
    background: #B72326;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 8px 20px;
    font-size: 18px;
    cursor: pointer;
}
#popupOverlay {
    display: none;
    position: fixed;
    top:0; left:0;
    width: 100vw; height: 100vh;
    background: rgba(0,0,0,0.3);
    z-index: 999;
}
</style>
</head>
<body>
<div class="container">
  <h1>REGISTER</h1>
  <form id="registerForm" novalidate>
    <input type="text" id="name" placeholder="Full Name" />
    <div id="nameError" class="error">Name is required.</div>

    <input type="email" id="email" placeholder="Email" />
    <div id="emailError" class="error">Invalid email.</div>

    <div class="password-wrapper">
      <input type="password" id="password" placeholder="Password" />
      <i class="fa-solid fa-eye-slash" id="togglePassword"></i>
    </div>
    <div id="passwordError" class="error">Password required.</div>

    <div class="password-wrapper">
      <input type="password" id="confirmPassword" placeholder="Confirm Password" />
      <i class="fa-solid fa-eye-slash" id="toggleConfirmPassword"></i>
    </div>
    <div id="confirmPasswordError" class="error">Passwords do not match.</div>

    <button type="submit" class="register-btn">Register</button>
  </form>

  <button class="google-btn" type="button" onclick="window.location.href='https://accounts.google.com/signin';">
    <img src="google.png" alt="Google Logo"> Sign up with Google
  </button>

  <div style="margin-top:10px;">Already have an account? <a href="login.html">Login</a></div>
</div>

<!-- ✅ Success Popup + Overlay -->
<div id="popupOverlay"></div>
<div id="successPopup">
  <i class="fa-solid fa-circle-check"></i>
  <p>Account Successfully Registered</p>
  <button id="closePopup">Close</button>
</div>

<script>
function setupToggle(toggleId, inputId) {
  const toggle = document.querySelector(toggleId);
  const input = document.querySelector(inputId);
  toggle.addEventListener("click", () => {
    const type = input.type === "password" ? "text" : "password";
    input.type = type;
    toggle.classList.toggle("fa-eye");
    toggle.classList.toggle("fa-eye-slash");
  });
}
setupToggle("#togglePassword","#password");
setupToggle("#toggleConfirmPassword","#confirmPassword");

$("#registerForm").on("submit", function(e){
  e.preventDefault();
  $(".error").hide();

  const name=$("#name").val().trim();
  const email=$("#email").val().trim();
  const password=$("#password").val().trim();
  const confirm=$("#confirmPassword").val().trim();
  let valid=true;

  if(!name){$("#nameError").show(); valid=false;}
  if(!email){$("#emailError").text("Email required").show(); valid=false;}
  else if(!/^[^ ]+@[^ ]+\.[a-z]{2,3}$/.test(email)){ valid=false; $("#emailError").text("Invalid email").show(); }
  if(!password){$("#passwordError").show(); valid=false;}
  if(password!==confirm){$("#confirmPasswordError").show(); valid=false;}

  if(valid){
    localStorage.setItem("name",name);
    localStorage.setItem("email",email);
    localStorage.setItem("password",password);

    // show popup
    $("#popupOverlay").show();
    $("#successPopup").fadeIn();

    // close button
    $("#closePopup").on("click", function(){
      $("#successPopup").fadeOut();
      $("#popupOverlay").hide();
      window.location.href="login.html";
    });
  }
});
</script>
</body>
</html>
